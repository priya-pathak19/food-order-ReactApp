{"ast":null,"code":"import _objectSpread from\"E:/work github/food-order-ReactApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"E:/work github/food-order-ReactApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/work github/food-order-ReactApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/work github/food-order-ReactApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import{Navbar,NavbarBrand,Nav,Button,Modal,ModalHeader,ModalBody,ModalFooter}from'reactstrap';import{Badge}from'reactstrap';import Cart from'../Cart/Cart';import logo from'../assets/logo.png';import cartLogo from'../assets/logo/cart.png';import'./Navbar.css';import Context from'../store/context';import{useForm}from'react-hook-form';import{yupResolver}from'@hookform/resolvers/yup';import*as yup from'yup';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var schema=yup.object().shape({firstName:yup.string().required(\"first name should not be empty\"),lastName:yup.string().required(\"last name should not be empty\"),pincode:yup.string().matches(/^[0-9]+$/,\"Must be only digits\").test('len',\"must be 5 chares long\",function(val){return val.length===5;}).required(),street:yup.string().required(\"street should not be empty\")//if password and confirm password\n// password : yup.string().min(4).max(15).required(),\n// confirmPassword : yup.string().oneOf([yup.ref(\"password\"),null])\n});var NavbarHeader=function NavbarHeader(props){var _errors$firstName,_errors$lastName,_errors$pincode,_errors$street;var _useForm=useForm({resolver:yupResolver(schema)}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset,errors=_useForm.formState.errors;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modal=_useState2[0],setModal=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),Orderform=_useState4[0],setORderform=_useState4[1];var toggle=function toggle(){return setModal(!modal);};var toggleForm=function toggleForm(){return setORderform(true);};var ctx=useContext(Context);var hasItems=ctx.items.length>0;var ctxVal=ctx.items.reduce(function(curr,item){return curr+item.amount;},0);var submitOrderHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var userdata,userSubmit;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:userdata={data:data,orderedItems:ctx.items};_context.next=3;return fetch('https://react-foodorder-ea422-default-rtdb.firebaseio.com/orders.json',{method:'POST',body:JSON.stringify({user:userdata,orderedItems:ctx.items})});case 3:userSubmit=_context.sent;console.log(userdata);ctx.clearCart();toggle();reset(userSubmit);setORderform(false);case 9:case\"end\":return _context.stop();}}},_callee);}));return function submitOrderHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Navbar,{color:\"light\",light:true,expand:\"md\",className:\"container-fluid fixed-top\",children:[/*#__PURE__*/_jsxs(NavbarBrand,{className:\"navbar-brand \",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logoimage\"}),\"Food Order\"]}),/*#__PURE__*/_jsx(Nav,{className:\" ms-auto pe-5\",navbar:true,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"button\",{className:\"cart-btn\",onClick:toggle,children:[/*#__PURE__*/_jsx(\"img\",{src:cartLogo,alt:\"cartIcon\",className:\"cartLogo\"}),\"My Cart\",/*#__PURE__*/_jsx(Badge,{className:\"badge\",style:{borderRadius:\"10px\"},children:ctxVal})]}),/*#__PURE__*/_jsxs(Modal,{isOpen:modal,toggle:toggle,children:[/*#__PURE__*/_jsxs(ModalHeader,{toggle:toggle,children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:cartLogo,alt:\"cartIcon\",className:\"cartLogo\"}),\" Your Cart\"]}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsx(Cart,{})}),/*#__PURE__*/_jsxs(ModalFooter,{children:[!Orderform&&/*#__PURE__*/_jsx(Button,{className:\"btn-cancel\",onClick:toggle,children:\"Cancel\"}),hasItems&&!Orderform&&/*#__PURE__*/_jsx(Button,{className:\"btn-order\",onClick:toggleForm,children:\"Order\"})]}),Orderform&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"order-form\",onSubmit:handleSubmit(submitOrderHandler),children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Fname\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({id:\"Fname\",name:\"firstName\",type:\"text\"},register('firstName',{required:true}))),/*#__PURE__*/_jsx(\"p\",{children:(_errors$firstName=errors.firstName)===null||_errors$firstName===void 0?void 0:_errors$firstName.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Lname\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({id:\"Lname\",name:\"lastName\",type:\"text\"},register('lastName',{required:true}))),/*#__PURE__*/_jsx(\"p\",{children:(_errors$lastName=errors.lastName)===null||_errors$lastName===void 0?void 0:_errors$lastName.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"pin\",children:\"PIN CODE\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({id:\"pin\",name:\"pin\"},register('pincode',{required:true}))),/*#__PURE__*/_jsx(\"p\",{children:(_errors$pincode=errors.pincode)===null||_errors$pincode===void 0?void 0:_errors$pincode.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"street\",children:\"Street\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({id:\"street\",name:\"street\",type:\"text\"},register('street',{required:true}))),/*#__PURE__*/_jsx(\"p\",{children:(_errors$street=errors.street)===null||_errors$street===void 0?void 0:_errors$street.message})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-cancel\",onClick:toggle,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-order\",type:\"submit\",children:\"Submit Order\"})]})})]})]})})]})})});};export default NavbarHeader;","map":{"version":3,"sources":["E:/work github/food-order-ReactApp/src/Header/Navbar.js"],"names":["React","useState","useContext","Navbar","NavbarBrand","Nav","Button","Modal","ModalHeader","ModalBody","ModalFooter","Badge","Cart","logo","cartLogo","Context","useForm","yupResolver","yup","schema","object","shape","firstName","string","required","lastName","pincode","matches","test","val","length","street","NavbarHeader","props","resolver","register","handleSubmit","reset","errors","formState","modal","setModal","Orderform","setORderform","toggle","toggleForm","ctx","hasItems","items","ctxVal","reduce","curr","item","amount","submitOrderHandler","data","userdata","orderedItems","fetch","method","body","JSON","stringify","user","userSubmit","console","log","clearCart","borderRadius","message"],"mappings":"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","sourcesContent":["import React, { useState, useContext }  from 'react';\r\n\r\nimport { Navbar,NavbarBrand,Nav, Button, Modal, ModalHeader, ModalBody, ModalFooter} from 'reactstrap';\r\nimport { Badge } from 'reactstrap';\r\nimport Cart from '../Cart/Cart'\r\n \r\nimport logo from '../assets/logo.png';\r\nimport cartLogo from '../assets/logo/cart.png';\r\nimport './Navbar.css'\r\nimport Context from '../store/context';\r\nimport { useForm } from 'react-hook-form';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as yup from 'yup';\r\n\r\nconst schema = yup.object().shape({\r\n    firstName: yup.string().required(\"first name should not be empty\"),\r\n    lastName: yup.string().required(\"last name should not be empty\"),\r\n    pincode: yup.string().matches(/^[0-9]+$/, \"Must be only digits\").test('len', \"must be 5 chares long\", val=> val.length === 5).required(),\r\n    street: yup.string().required(\"street should not be empty\") \r\n\r\n    //if password and confirm password\r\n    // password : yup.string().min(4).max(15).required(),\r\n    // confirmPassword : yup.string().oneOf([yup.ref(\"password\"),null])\r\n})\r\n\r\nconst NavbarHeader = (props)=> {\r\n\r\n    const { register, handleSubmit,reset , formState: { errors }  } = useForm({\r\n     resolver: yupResolver(schema),\r\n    })\r\n    \r\n      const [modal, setModal] = useState(false);\r\n      const [Orderform, setORderform] = useState(false);\r\n\r\n\r\n      const toggle = () => setModal(!modal);\r\n      const toggleForm = () => setORderform(true);\r\n\r\n      const ctx = useContext(Context);\r\n\r\n      const hasItems = ctx.items.length > 0;\r\n\r\n      const ctxVal = ctx.items.reduce((curr, item)=>{\r\n        return curr + item.amount;\r\n      },0);\r\n\r\n\r\n      const submitOrderHandler = async (data) => {\r\n\r\n       const userdata = {\r\n        data,\r\n        orderedItems: ctx.items,\r\n       }\r\n\r\n\r\n        const userSubmit = await fetch('https://react-foodorder-ea422-default-rtdb.firebaseio.com/orders.json', {\r\n          method: 'POST',\r\n          body: JSON.stringify({\r\n            user : userdata,\r\n            orderedItems: ctx.items,\r\n          }),\r\n        });\r\n        console.log(userdata)\r\n        ctx.clearCart();\r\n        toggle();\r\n        reset(userSubmit);\r\n        setORderform(false);\r\n      };\r\n\r\n    \r\n    return(\r\n        <React.Fragment>\r\n            <div>\r\n             <Navbar color=\"light\" light expand=\"md\" className=\"container-fluid fixed-top\">\r\n        <NavbarBrand className=\"navbar-brand \">\r\n            <img src={logo} alt=\"Logoimage\"/>\r\n            Food Order\r\n        </NavbarBrand>\r\n        <Nav className=\" ms-auto pe-5\" navbar>\r\n        <div>\r\n        <button className=\"cart-btn\" onClick={toggle}>\r\n                <img src={cartLogo} alt=\"cartIcon\" className=\"cartLogo\"/>\r\n                My Cart\r\n                <Badge className=\"badge\" style={{borderRadius:\"10px\"}}>{ctxVal}</Badge>\r\n            </button>\r\n      <Modal isOpen={modal} toggle={toggle}>\r\n        <ModalHeader toggle={toggle}> <img src={cartLogo} alt=\"cartIcon\" className=\"cartLogo\"/> Your Cart</ModalHeader>\r\n        <ModalBody>\r\n            <Cart/>\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          {!Orderform && <Button className=\"btn-cancel\" onClick={toggle}>Cancel</Button>}\r\n          {hasItems && !Orderform && <Button className=\"btn-order\" onClick={toggleForm}>Order</Button>}\r\n         \r\n        </ModalFooter>\r\n        {Orderform && <div>\r\n          <form className=\"order-form\" onSubmit={handleSubmit(submitOrderHandler)}>\r\n            <div>\r\n            <label htmlFor=\"Fname\">First Name</label>\r\n            <input id=\"Fname\" name=\"firstName\" type=\"text\" {...register('firstName', { required: true })}/>\r\n           <p>{errors.firstName?.message}</p>\r\n            </div>\r\n            <div>\r\n            <label htmlFor=\"Lname\">Last Name</label>\r\n            <input id=\"Lname\" name=\"lastName\" type=\"text\" {...register('lastName', { required: true })}/>\r\n            <p>{errors.lastName?.message}</p>\r\n            </div>\r\n            <div>\r\n            <label htmlFor=\"pin\">PIN CODE</label>\r\n            <input id=\"pin\" name=\"pin\" {...register('pincode', { required: true })}/>\r\n            <p>{errors.pincode?.message}</p>\r\n            </div>\r\n            <div>\r\n            <label htmlFor=\"street\">Street</label>\r\n            <input id=\"street\" name=\"street\" type=\"text\" {...register('street', { required: true })}/>\r\n            <p>{errors.street?.message}</p>\r\n            </div>\r\n            <button className=\"btn-cancel\" onClick={toggle}>Cancel</button>\r\n            <button className=\"btn-order\" type=\"submit\">Submit Order</button>\r\n          </form>\r\n        </div>}\r\n      </Modal>\r\n    </div>\r\n        </Nav>\r\n      </Navbar>\r\n      </div>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default NavbarHeader;"]},"metadata":{},"sourceType":"module"}